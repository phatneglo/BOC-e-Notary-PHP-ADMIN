import{ax as z,ay as S,_ as N,d as G,f as P,r as y,h as B,o as R,j as i,k as m,l as a,az as D,F as s,m as t,aB as c,aK as K,aM as U,E as g,aN as j,aD as n,aC as I,D as b,K as C,p as u,t as _,C as k,G as $,A as E}from"./index.a0f63ec5.js";import{Q as L}from"./QExpansionItem.e1e53f6b.js";import{u as O}from"./useNotifications.4eacd1ca.js";import"./notification.efba6981.js";const J=z("faq",{state:()=>({categories:[],faqs:[]}),actions:{async fetchCategories(){try{const d=await S.get("/faqs/categories");if(d.data.success)return this.categories=d.data.data,this.categories}catch(d){throw console.error("Error fetching FAQ categories:",d),d}},async fetchFaqsByCategory(d){try{const r=await S.get(`/faqs/categories/${d}`);if(r.data.success)return r.data.data}catch(r){throw console.error(`Error fetching FAQs for category ${d}:`,r),r}},async searchFaqs(d){try{const r=await S.get("/faqs/search",{params:{query:d}});if(r.data.success)return r.data.data}catch(r){throw console.error("Error searching FAQs:",r),r}}}});const W={class:"row q-col-gutter-md"},X={class:"col-12"},Y={class:"row q-col-gutter-md"},Z={class:"col-12 col-md-8"},ee={class:"col-12 col-md-4"},te={class:"col-12"},se={class:"text-subtitle2"},ae=["innerHTML"],le={class:"text-caption q-mt-sm text-grey"},oe={class:"text-h6"},re={class:"text-subtitle2 text-grey"},ne=["innerHTML"],ie={class:"text-caption q-mt-sm text-grey"},de={class:"col-12"},ce={class:"col-12 col-md-6"},ue={class:"col-12 col-md-6"},me={class:"col-12"},pe={class:"row q-col-gutter-md"},fe={class:"col-6 col-md-3"},ve={class:"col-6 col-md-3"},ye={class:"col-6 col-md-3"},ge={class:"col-6 col-md-3"},_e=G({__name:"HelpPage",setup(d){P();const r=J(),{showNotification:w}=O(),h=y(!1),p=y(""),Q=y(!1),q=y([]),f=y([]),x=y(null),V=B(()=>{const l=f.value.map(e=>({label:e.category_name,value:e.category_id}));return[{label:"All Categories",value:null},...l]}),M=B(()=>x.value===null?f.value:f.value.filter(l=>l.category_id===x.value)),T=async()=>{h.value=!0;try{const l=await r.fetchCategories();f.value=l.map(e=>({...e,faqs:[]})),await Promise.all(f.value.map(e=>H(e.category_id)))}catch(l){console.error("Error loading FAQ categories:",l),w({type:"negative",message:"Failed to load help content"})}finally{h.value=!1}},H=async l=>{if(!!l)try{const e=await r.fetchFaqsByCategory(l),o=f.value.find(v=>v.category_id===l);o&&(o.faqs=e)}catch(e){console.error(`Error loading FAQs for category ${l}:`,e),w({type:"negative",message:"Failed to load FAQs for this category"})}},A=async()=>{if(!p.value.trim()){F();return}h.value=!0,Q.value=!0;try{const l=await r.searchFaqs(p.value);q.value=l}catch(l){console.error("Error searching FAQs:",l),w({type:"negative",message:"Failed to search help content"})}finally{h.value=!1}},F=()=>{p.value="",q.value=[],Q.value=!1};return R(async()=>{await T()}),(l,e)=>(i(),m(D,{padding:""},{default:a(()=>[s("div",W,[e[18]||(e[18]=s("div",{class:"col-12"},[s("h4",{class:"q-mt-none q-mb-md"},"Help Center")],-1)),s("div",X,[t(n,{flat:"",bordered:""},{default:a(()=>[t(c,null,{default:a(()=>[s("div",Y,[s("div",Z,[t(K,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=o=>p.value=o),filled:"",clearable:"",label:"Search Help Topics",onKeyup:U(A,["enter"])},{append:a(()=>[t(g,{name:"search",class:"cursor-pointer",onClick:A})]),_:1},8,["modelValue"])]),s("div",ee,[t(j,{modelValue:x.value,"onUpdate:modelValue":[e[1]||(e[1]=o=>x.value=o),H],options:V.value,filled:"",label:"Filter by Category","emit-value":"","map-options":""},null,8,["modelValue","options"])])])]),_:1})]),_:1})]),s("div",te,[h.value?(i(),m(n,{key:0,flat:"",bordered:"",class:"text-center q-pa-lg"},{default:a(()=>[t(I,{color:"primary",size:"3em"}),e[8]||(e[8]=s("div",{class:"q-mt-sm"},"Loading help content...",-1))]),_:1})):(i(),b(C,{key:1},[Q.value?(i(),b(C,{key:0},[q.value.length===0?(i(),m(n,{key:0,flat:"",bordered:""},{default:a(()=>[t(c,{class:"text-center"},{default:a(()=>[t(g,{name:"search_off",size:"3em",color:"grey-7"}),e[9]||(e[9]=s("div",{class:"text-h6 q-mt-md"},"No results found",-1)),e[10]||(e[10]=s("div",{class:"q-mt-sm"}," Try different keywords or browse by category. ",-1)),t(u,{flat:"",color:"primary",class:"q-mt-md",label:"Reset Search",onClick:F})]),_:1})]),_:1})):(i(),m(n,{key:1,flat:"",bordered:""},{default:a(()=>[t(c,null,{default:a(()=>[e[11]||(e[11]=s("div",{class:"text-h6"},"Search Results",-1)),s("div",se," Found "+_(q.value.length)+' result(s) for "'+_(p.value)+'" ',1)]),_:1}),t(k),t(E,{separator:""},{default:a(()=>[(i(!0),b(C,null,$(q.value,o=>(i(),m(L,{key:o.faq_id,group:"search-results","expand-separator":"",label:o.question,"header-class":"text-primary"},{default:a(()=>[t(n,null,{default:a(()=>[t(c,null,{default:a(()=>[s("div",{innerHTML:o.answer},null,8,ae),s("div",le," Category: "+_(o.category_name),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["label"]))),128))]),_:1}),t(c,null,{default:a(()=>[t(u,{flat:"",color:"primary",label:"Reset Search",onClick:F})]),_:1})]),_:1}))],64)):(i(!0),b(C,{key:1},$(M.value,o=>(i(),m(n,{key:o.category_id,flat:"",bordered:"",class:"q-mb-md"},{default:a(()=>[t(c,null,{default:a(()=>[s("div",oe,_(o.category_name),1),s("div",re,_(o.description),1)]),_:2},1024),t(k),t(E,{separator:""},{default:a(()=>[(i(!0),b(C,null,$(o.faqs,v=>(i(),m(L,{key:v.faq_id,group:"faq-results","expand-separator":"",label:v.question,"header-class":"text-primary"},{default:a(()=>[t(n,null,{default:a(()=>[t(c,null,{default:a(()=>[s("div",{innerHTML:v.answer},null,8,ne),s("div",ie," Tags: "+_(v.tags),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["label"]))),128))]),_:2},1024)]),_:2},1024))),128))],64))]),s("div",de,[t(n,{flat:"",bordered:""},{default:a(()=>[t(c,null,{default:a(()=>e[12]||(e[12]=[s("div",{class:"text-h6"},"Still Need Help?",-1),s("div",{class:"text-subtitle2"}," If you couldn't find what you're looking for, you can contact our support team. ",-1)])),_:1}),t(k),t(c,{class:"row items-center q-col-gutter-md"},{default:a(()=>[s("div",ce,[t(u,{color:"primary",icon:"email",label:"Contact Support",class:"full-width",onClick:e[2]||(e[2]=o=>l.$router.push("/support"))})]),s("div",ue,[t(u,{color:"secondary",outline:"",icon:"support_agent",label:"Check Support Request Status",class:"full-width",onClick:e[3]||(e[3]=o=>l.$router.push("/support/status"))})])]),_:1})]),_:1})]),s("div",me,[t(n,{flat:"",bordered:""},{default:a(()=>[t(c,null,{default:a(()=>e[13]||(e[13]=[s("div",{class:"text-h6"},"Quick Links",-1)])),_:1}),t(k),t(c,null,{default:a(()=>[s("div",pe,[s("div",fe,[t(n,{flat:"",bordered:"",class:"text-center q-pa-md"},{default:a(()=>[t(g,{name:"home",size:"3em",color:"primary"}),e[14]||(e[14]=s("div",{class:"text-subtitle1 q-mt-sm"},"Home",-1)),t(u,{flat:"",color:"primary",label:"Go",class:"q-mt-sm",onClick:e[4]||(e[4]=o=>l.$router.push("/"))})]),_:1})]),s("div",ve,[t(n,{flat:"",bordered:"",class:"text-center q-pa-md"},{default:a(()=>[t(g,{name:"verified",size:"3em",color:"primary"}),e[15]||(e[15]=s("div",{class:"text-subtitle1 q-mt-sm"},"Verify Document",-1)),t(u,{flat:"",color:"primary",label:"Go",class:"q-mt-sm",onClick:e[5]||(e[5]=o=>l.$router.push("/verify"))})]),_:1})]),s("div",ye,[t(n,{flat:"",bordered:"",class:"text-center q-pa-md"},{default:a(()=>[t(g,{name:"description",size:"3em",color:"primary"}),e[16]||(e[16]=s("div",{class:"text-subtitle1 q-mt-sm"},"Templates",-1)),t(u,{flat:"",color:"primary",label:"Go",class:"q-mt-sm",onClick:e[6]||(e[6]=o=>l.$router.push("/user/templates"))})]),_:1})]),s("div",ge,[t(n,{flat:"",bordered:"",class:"text-center q-pa-md"},{default:a(()=>[t(g,{name:"account_circle",size:"3em",color:"primary"}),e[17]||(e[17]=s("div",{class:"text-subtitle1 q-mt-sm"},"My Account",-1)),t(u,{flat:"",color:"primary",label:"Go",class:"q-mt-sm",onClick:e[7]||(e[7]=o=>l.$router.push("/user/profile"))})]),_:1})])])]),_:1})]),_:1})])])]),_:1}))}});var xe=N(_e,[["__scopeId","data-v-7bfd3a9c"]]);export{xe as default};
