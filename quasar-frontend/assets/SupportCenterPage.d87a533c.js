import{_ as L,d as z,g as J,aW as O,r as c,o as G,j as C,k as V,l,az as W,F as s,m as e,aB as d,C as x,aI as U,aJ as y,aM as X,p as f,aD as b,A,I as m,J as i,B as u,q as o,E as M,aX as F,aC as K,t as g,y as Z,H as P,aY as j,M as h,x as ee,S as I}from"./index.db3945b0.js";import{d as te}from"./date.7aef48e4.js";import{q as le}from"./copy-to-clipboard.e18ba7e5.js";import{u as se}from"./support.b810e22d.js";import{u as ae}from"./useNotifications.1d84db4d.js";import"./notification.59488b49.js";const ue={class:"row q-col-gutter-md"},oe={class:"col-12 col-md-8"},re={class:"row q-col-gutter-md"},ne={class:"col-12 col-md-6"},de={class:"col-12 col-md-6"},ie={class:"col-12"},me={class:"col-12"},pe={class:"col-12"},fe={class:"row q-mt-md"},ve={class:"col-auto"},ce={class:"col-auto q-ml-md"},be={class:"col-12 col-md-4"},_e={class:"row q-col-gutter-md"},ye={class:"col-12"},ge={class:"col-12"},qe={class:"col-12"},Se={class:"col-12"},Ce={class:"text-center q-pa-md"},Ve={class:"text-center q-pa-md bg-grey-2 q-mt-md"},xe={class:"text-h5 text-primary"},we=z({__name:"SupportCenterPage",setup(Qe){const N=se(),v=J(),{showNotification:_}=ae(),r=O({name:"",email:"",subject:"",message:"",request_type:"general",user_id:null}),q=c(""),p=c(null),w=c(""),Q=c(!1),S=c(!1),k=c(!1),R=c(!1),Y=[{label:"General Inquiry",value:"general"},{label:"Technical Support",value:"technical"},{label:"Account Issue",value:"account"},{label:"Document Verification",value:"verification"},{label:"Payment Issue",value:"payment"},{label:"Feature Request",value:"feature"},{label:"Other",value:"other"}],E=async()=>{Q.value=!0;try{v.isAuthenticated&&(r.user_id=v.user.user_id);const n=await N.submitSupportRequest(r);w.value=n.reference_number,R.value=!0,D(),_({type:"positive",message:"Support request submitted successfully"})}catch(n){console.error("Error submitting support request:",n),_({type:"negative",message:"Failed to submit support request"})}finally{Q.value=!1}},$=async()=>{if(!!q.value){S.value=!0,k.value=!0;try{const n=await N.checkRequestStatus(q.value);p.value=n}catch(n){console.error("Error checking request status:",n),p.value=null,_({type:"negative",message:"Failed to check request status"})}finally{S.value=!1}}},D=()=>{r.name="",r.email="",r.subject="",r.message="",r.request_type="general"},B=n=>n?te.formatDate(n,"MMM D, YYYY h:mm A"):"N/A",T=n=>({new:"blue",processing:"orange",completed:"positive",closed:"grey"})[n]||"primary",H=n=>{le(n).then(()=>{_({type:"positive",message:"Reference number copied to clipboard"})}).catch(()=>{_({type:"negative",message:"Failed to copy to clipboard"})})};return G(()=>{v.isAuthenticated&&v.user&&(r.name=`${v.user.first_name} ${v.user.last_name}`,r.email=v.user.email)}),(n,t)=>(C(),V(W,{padding:""},{default:l(()=>[s("div",ue,[t[27]||(t[27]=s("div",{class:"col-12"},[s("h4",{class:"q-mt-none q-mb-md"},"Support Center")],-1)),s("div",oe,[e(b,{flat:"",bordered:""},{default:l(()=>[e(d,null,{default:l(()=>t[10]||(t[10]=[s("div",{class:"text-h6"},"Contact Support",-1),s("div",{class:"text-subtitle2"}," Fill out the form below to submit a support request. ",-1)])),_:1}),e(x),e(d,null,{default:l(()=>[e(U,{onSubmit:E,class:"q-gutter-md"},{default:l(()=>[s("div",re,[s("div",ne,[e(y,{filled:"",modelValue:r.name,"onUpdate:modelValue":t[0]||(t[0]=a=>r.name=a),label:"Full Name",rules:[a=>!!a||"Name is required"]},null,8,["modelValue","rules"])]),s("div",de,[e(y,{filled:"",modelValue:r.email,"onUpdate:modelValue":t[1]||(t[1]=a=>r.email=a),label:"Email Address",type:"email",rules:[a=>!!a||"Email is required",a=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)||"Please enter a valid email address"]},null,8,["modelValue","rules"])]),s("div",ie,[e(X,{filled:"",modelValue:r.request_type,"onUpdate:modelValue":t[2]||(t[2]=a=>r.request_type=a),options:Y,label:"Request Type",rules:[a=>!!a||"Please select a request type"],"emit-value":"","map-options":""},null,8,["modelValue","rules"])]),s("div",me,[e(y,{filled:"",modelValue:r.subject,"onUpdate:modelValue":t[3]||(t[3]=a=>r.subject=a),label:"Subject",rules:[a=>!!a||"Subject is required"]},null,8,["modelValue","rules"])]),s("div",pe,[e(y,{filled:"",modelValue:r.message,"onUpdate:modelValue":t[4]||(t[4]=a=>r.message=a),label:"Message",type:"textarea",rows:"6",rules:[a=>!!a||"Message is required",a=>a.length>=20||"Message must be at least 20 characters long"]},null,8,["modelValue","rules"])])]),s("div",fe,[s("div",ve,[e(f,{type:"submit",color:"primary",label:"Submit Request",loading:Q.value},null,8,["loading"])]),s("div",ce,[e(f,{color:"secondary",flat:"",label:"Reset Form",onClick:D})])])]),_:1})]),_:1})]),_:1})]),s("div",be,[s("div",_e,[s("div",ye,[e(b,{flat:"",bordered:""},{default:l(()=>[e(d,null,{default:l(()=>t[11]||(t[11]=[s("div",{class:"text-h6"},"Check Request Status",-1)])),_:1}),e(x),e(d,null,{default:l(()=>[e(U,{onSubmit:$,class:"q-gutter-md"},{default:l(()=>[e(y,{filled:"",modelValue:q.value,"onUpdate:modelValue":t[5]||(t[5]=a=>q.value=a),label:"Reference Number",rules:[a=>!!a||"Reference number is required"]},null,8,["modelValue","rules"]),e(f,{type:"submit",color:"primary",label:"Check Status",loading:S.value,class:"full-width"},null,8,["loading"])]),_:1})]),_:1})]),_:1})]),s("div",ge,[e(b,{flat:"",bordered:""},{default:l(()=>[e(d,null,{default:l(()=>t[12]||(t[12]=[s("div",{class:"text-h6"},"Support Hours",-1)])),_:1}),e(x),e(A,{dense:"",padding:""},{default:l(()=>[e(m,null,{default:l(()=>[e(i,null,{default:l(()=>[e(u,null,{default:l(()=>t[13]||(t[13]=[o("Monday to Friday")])),_:1}),e(u,{caption:""},{default:l(()=>t[14]||(t[14]=[o("8:00 AM to 5:00 PM")])),_:1})]),_:1})]),_:1}),e(m,null,{default:l(()=>[e(i,null,{default:l(()=>[e(u,null,{default:l(()=>t[15]||(t[15]=[o("Saturday")])),_:1}),e(u,{caption:""},{default:l(()=>t[16]||(t[16]=[o("9:00 AM to 12:00 PM")])),_:1})]),_:1})]),_:1}),e(m,null,{default:l(()=>[e(i,null,{default:l(()=>[e(u,null,{default:l(()=>t[17]||(t[17]=[o("Sunday & Holidays")])),_:1}),e(u,{caption:""},{default:l(()=>t[18]||(t[18]=[o("Closed")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),s("div",qe,[e(b,{flat:"",bordered:""},{default:l(()=>[e(d,null,{default:l(()=>t[19]||(t[19]=[s("div",{class:"text-h6"},"Contact Information",-1)])),_:1}),e(x),e(A,{dense:"",padding:""},{default:l(()=>[e(m,null,{default:l(()=>[e(i,{avatar:""},{default:l(()=>[e(M,{name:"email",color:"primary"})]),_:1}),e(i,null,{default:l(()=>[e(u,null,{default:l(()=>t[20]||(t[20]=[o("Email")])),_:1}),e(u,{caption:""},{default:l(()=>t[21]||(t[21]=[o("enotary@boc.gov.ph")])),_:1})]),_:1})]),_:1}),e(m,null,{default:l(()=>[e(i,{avatar:""},{default:l(()=>[e(M,{name:"phone",color:"primary"})]),_:1}),e(i,null,{default:l(()=>[e(u,null,{default:l(()=>t[22]||(t[22]=[o("Phone")])),_:1}),e(u,{caption:""},{default:l(()=>t[23]||(t[23]=[o("+63 (2) 1234-5678")])),_:1})]),_:1})]),_:1}),e(m,null,{default:l(()=>[e(i,{avatar:""},{default:l(()=>[e(M,{name:"location_on",color:"primary"})]),_:1}),e(i,null,{default:l(()=>[e(u,null,{default:l(()=>t[24]||(t[24]=[o("Address")])),_:1}),e(u,{caption:""},{default:l(()=>t[25]||(t[25]=[o("Bureau of Customs Building, Manila, Philippines")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),s("div",Se,[e(b,{flat:"",bordered:""},{default:l(()=>[e(d,null,{default:l(()=>t[26]||(t[26]=[s("div",{class:"text-h6"},"Frequently Asked Questions",-1),s("div",{class:"text-body2 q-mt-sm"}," Find answers to common questions in our FAQ section. ",-1)])),_:1}),e(F,{align:"right"},{default:l(()=>[e(f,{flat:"",color:"primary",label:"View FAQs",onClick:t[6]||(t[6]=a=>n.$router.push("/help"))})]),_:1})]),_:1})])])])]),e(j,{modelValue:k.value,"onUpdate:modelValue":t[7]||(t[7]=a=>k.value=a)},{default:l(()=>[e(b,{style:{"min-width":"350px"}},{default:l(()=>[e(d,null,{default:l(()=>t[28]||(t[28]=[s("div",{class:"text-h6"},"Request Status",-1)])),_:1}),S.value?(C(),V(d,{key:0},{default:l(()=>[s("div",Ce,[e(K,{color:"primary",size:"3em"}),t[29]||(t[29]=s("div",{class:"q-mt-sm"},"Checking request status...",-1))])]),_:1})):p.value?(C(),V(d,{key:1},{default:l(()=>[e(A,null,{default:l(()=>[e(m,null,{default:l(()=>[e(i,null,{default:l(()=>[e(u,null,{default:l(()=>t[30]||(t[30]=[o("Reference Number")])),_:1}),e(u,{caption:""},{default:l(()=>[o(g(p.value.reference_number),1)]),_:1})]),_:1})]),_:1}),e(m,null,{default:l(()=>[e(i,null,{default:l(()=>[e(u,null,{default:l(()=>t[31]||(t[31]=[o("Status")])),_:1}),e(u,{caption:""},{default:l(()=>[e(Z,{color:T(p.value.status)},{default:l(()=>[o(g(p.value.status),1)]),_:1},8,["color"])]),_:1})]),_:1})]),_:1}),e(m,null,{default:l(()=>[e(i,null,{default:l(()=>[e(u,null,{default:l(()=>t[32]||(t[32]=[o("Submitted At")])),_:1}),e(u,{caption:""},{default:l(()=>[o(g(B(p.value.submitted_at)),1)]),_:1})]),_:1})]),_:1}),e(m,null,{default:l(()=>[e(i,null,{default:l(()=>[e(u,null,{default:l(()=>t[33]||(t[33]=[o("Last Updated")])),_:1}),e(u,{caption:""},{default:l(()=>[o(g(B(p.value.last_updated)),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):(C(),V(d,{key:2},{default:l(()=>t[34]||(t[34]=[s("div",{class:"text-center text-negative"}," Request not found or an error occurred. ",-1)])),_:1})),e(F,{align:"right"},{default:l(()=>[P(e(f,{flat:"",label:"Close",color:"primary"},null,512),[[I]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(j,{modelValue:R.value,"onUpdate:modelValue":t[9]||(t[9]=a=>R.value=a)},{default:l(()=>[e(b,null,{default:l(()=>[e(d,{class:"row items-center bg-positive text-white"},{default:l(()=>[e(h,{icon:"check_circle","text-color":"white"}),t[35]||(t[35]=s("div",{class:"text-h6 q-ml-md"},"Success",-1)),e(ee),P(e(f,{flat:"",round:"",icon:"close","text-color":"white"},null,512),[[I]])]),_:1}),e(d,null,{default:l(()=>[t[37]||(t[37]=s("div",{class:"text-h6 q-mb-md"},"Support Request Submitted",-1)),t[38]||(t[38]=s("p",null,"Your support request has been submitted successfully. Please keep your reference number for tracking your request status.",-1)),s("div",Ve,[t[36]||(t[36]=s("div",{class:"text-subtitle2"},"Your Reference Number:",-1)),s("div",xe,g(w.value),1),e(f,{outline:"",color:"primary",icon:"content_copy",label:"Copy",class:"q-mt-sm",onClick:t[8]||(t[8]=a=>H(w.value))})])]),_:1}),e(F,{align:"right"},{default:l(()=>[P(e(f,{flat:"",label:"Close",color:"primary"},null,512),[[I]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});var Ie=L(we,[["__scopeId","data-v-5f2b6024"]]);export{Ie as default};
