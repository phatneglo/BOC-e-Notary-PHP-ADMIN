import{_ as ke,d as Ve,c as Re,e as Se,r,h as Le,o as Ye,j as i,k as D,w as a,az as Me,ay as b,aA as w,D as o,l as t,n as m,B as f,aC as V,C as O,aB as p,y as ce,H as h,I as y,z as v,p as c,t as _,E as ee,aD as x,J as Ue,F as ze,L as Fe,aE as Be,aF as me,A as He,aG as Qe,aH as fe,aM as ve,bw as z,s as R,G as q,aI as pe,aJ as A,aX as _e,aY as S,R as C}from"./index.3c170ecb.js";import{Q as F}from"./QTooltip.195764a5.js";import{d as te}from"./date.65b635a6.js";import{u as je}from"./notary.66e50f09.js";const $e={class:"content-container q-pa-md q-pb-xl"},Ge={class:"row items-center q-mb-md"},We={class:"col-auto"},Ke={key:0,class:"q-pa-xl flex flex-center"},Je={key:1,class:"q-pa-xl flex flex-center"},Xe={class:"text-center"},Ze={key:2,class:"row q-col-gutter-md"},et={class:"col-12 col-lg-4"},tt={class:"flex flex-center q-pa-md"},at={class:"row q-gutter-sm q-mt-md"},lt={class:"col-12 col-lg-8"},ot={class:"preview-toolbar bg-grey-2 q-py-xs q-px-md"},nt={class:"row items-center justify-between"},st={class:"preview-container"},it={key:0,class:"flex flex-center full-height"},rt=["src"],ut=["innerHTML"],dt={key:3,class:"flex flex-center full-height text-grey-7"},ct={class:"text-center"},mt={class:"preview-toolbar bg-grey-2 q-py-xs q-px-md"},ft={class:"row items-center justify-between"},vt={class:"row q-col-gutter-sm q-pa-sm bg-grey-2"},pt={class:"col-12 col-sm-4"},_t={class:"col-12 col-sm-8"},gt={class:"row q-col-gutter-sm"},yt={class:"col"},wt={class:"col"},bt={class:"col"},ht={class:"col"},xt={class:"preview-container"},Nt={key:0,class:"flex flex-center full-height"},Dt=["src"],Ot={key:2,class:"flex flex-center full-height text-grey-7"},It={class:"text-center"},Et={class:"row q-col-gutter-md"},Pt={class:"col-12"},qt={class:"col-12 col-md-4"},At={class:"col-12 col-md-4"},Ct={class:"col-12 col-md-4"},Tt={class:"col-12"},kt={class:"col-12"},Vt={class:"col-12"},Rt={class:"text-subtitle1"},St={key:0,class:"flex flex-center full-height"},Lt=["src"],Yt={key:2,class:"flex flex-center full-height text-grey-7"},Mt={class:"text-center"},Ut={class:"text-subtitle1"},zt=["src"],Ft=["innerHTML"],Bt={key:2,class:"flex flex-center full-height text-grey-7"},Ht={class:"text-center"},Qt={class:"text-subtitle1"},jt=["src"],$t={key:1,class:"flex flex-center full-height text-grey-7"},Gt={class:"text-center"},Wt=Ve({__name:"DocumentReviewPage",setup(Kt){const ae=Re(),ge=Se(),le=je(),B=r(null),H=r(null),Q=r(!0),j=r(!1),$=r(!1),T=r(!1),G=r(!1),g=r(!1),I=r(null),N=r(null),s=r({document_id:null,document_reference:"",document_title:"",template_id:null,template_name:"",status:"",created_at:"",updated_at:"",company_name:"",customs_entry_number:"",date_of_entry:null,document_html:"",notes:"",document_data:{},parent_document_id:null,version:1}),W=r([]),k=r(""),E=r(""),L=r(""),Y=r("document"),M=r(!1),U=r(!1),K=r(!1),J=r(!1),X=r(!1),oe=r(null),u=r({page:1,include_signature:!0,include_seal:!0,include_qr:!0,include_certificate:!0,signature_position:{x:300,y:600},seal_position:{x:300,y:500},qr_position:{x:50,y:50},certificate_position:{x:100,y:700}}),d=r({document_number:"",page_number:1,book_number:"",series_of:new Date().getFullYear().toString(),notary_location:"",certificate_type:"acknowledgment",certificate_text:""}),Z=r({rejection_reason:""}),ye=[{label:"Acknowledgment",value:"acknowledgment"},{label:"Jurat",value:"jurat"},{label:"Copy Certification",value:"copy_certification"},{label:"Signature Witnessing",value:"signature_witnessing"},{label:"Oath or Affirmation",value:"oath_affirmation"}],we={acknowledgment:`REPUBLIC OF THE PHILIPPINES)
CITY/MUNICIPALITY OF [LOCATION] ) S.S.

BEFORE ME, a Notary Public for and in the [LOCATION], personally appeared [NAME] with [ID_TYPE] No. [ID_NUMBER] issued at [ID_PLACE] on [ID_DATE], known to me and to me known to be the same person who executed the foregoing instrument and acknowledged to me that the same is his/her free and voluntary act and deed.

WITNESS MY HAND AND SEAL on this [DAY] day of [MONTH], [YEAR] at [LOCATION], Philippines.`,jurat:`REPUBLIC OF THE PHILIPPINES)
CITY/MUNICIPALITY OF [LOCATION] ) S.S.

SUBSCRIBED AND SWORN TO before me this [DAY] day of [MONTH], [YEAR] at [LOCATION], Philippines, affiant exhibiting to me his/her [ID_TYPE] No. [ID_NUMBER] issued at [ID_PLACE] on [ID_DATE].

Doc. No. [DOC_NO];
Page No. [PAGE_NO];
Book No. [BOOK_NO];
Series of [YEAR].`,copy_certification:`REPUBLIC OF THE PHILIPPINES)
CITY/MUNICIPALITY OF [LOCATION] ) S.S.

I CERTIFY that the above document is a faithful reproduction of the original which was presented to me.

WITNESS MY HAND AND SEAL on this [DAY] day of [MONTH], [YEAR] at [LOCATION], Philippines.

Doc. No. [DOC_NO];
Page No. [PAGE_NO];
Book No. [BOOK_NO];
Series of [YEAR].`,signature_witnessing:`REPUBLIC OF THE PHILIPPINES)
CITY/MUNICIPALITY OF [LOCATION] ) S.S.

I HEREBY CERTIFY that on this [DAY] day of [MONTH], [YEAR], personally appeared before me [NAME] with [ID_TYPE] No. [ID_NUMBER], known to me to be the person who signed the foregoing document in my presence and who represented that he/she executed the foregoing as his/her free and voluntary act and deed.

IN WITNESS WHEREOF, I have hereunto set my hand and affixed my notarial seal on the date and place above written.

Doc. No. [DOC_NO];
Page No. [PAGE_NO];
Book No. [BOOK_NO];
Series of [YEAR].`,oath_affirmation:`REPUBLIC OF THE PHILIPPINES)
CITY/MUNICIPALITY OF [LOCATION] ) S.S.

I, [NAME], after having been duly sworn in accordance with law, hereby depose and say: That I executed the foregoing document of my own free will and deed.

IN WITNESS WHEREOF, I have hereunto set my hand this [DAY] day of [MONTH], [YEAR] at [LOCATION], Philippines.

[NAME]
Affiant

SUBSCRIBED AND SWORN TO before me this [DAY] day of [MONTH], [YEAR]. Affiant exhibited to me his/her [ID_TYPE] No. [ID_NUMBER] issued at [ID_PLACE] on [ID_DATE].

Doc. No. [DOC_NO];
Page No. [PAGE_NO];
Book No. [BOOK_NO];
Series of [YEAR].`},be=Le(()=>{const n=[];for(let l=1;l<=1;l++)n.push({label:`Page ${l}`,value:l});return n}),he=n=>n?te.formatDate(new Date(n),"MMMM D, YYYY"):"",ne=n=>n?te.formatDate(new Date(n),"MMM D, YYYY h:mm A"):"",xe=n=>n?n<1024?n+" bytes":n<1024*1024?(n/1024).toFixed(1)+" KB":(n/(1024*1024)).toFixed(1)+" MB":"",se=()=>{const n=we[d.value.certificate_type]||"",e=new Date,l=e.getDate(),de=te.formatDate(e,"MMMM"),Ce=e.getFullYear();let Te=n.replace(/\[LOCATION\]/g,d.value.notary_location||"[LOCATION]").replace(/\[DAY\]/g,l.toString()).replace(/\[MONTH\]/g,de).replace(/\[YEAR\]/g,Ce.toString()).replace(/\[DOC_NO\]/g,d.value.document_number||"[DOC_NO]").replace(/\[PAGE_NO\]/g,d.value.page_number.toString()||"[PAGE_NO]").replace(/\[BOOK_NO\]/g,d.value.book_number||"[BOOK_NO]");d.value.certificate_text=Te},Ne=async()=>{Q.value=!0;try{if(I.value=ge.params.id,!I.value)throw new Error("Request ID not provided");const n=await b.get(`/requests/${I.value}`);if(!n.data.success)throw new Error(n.data.message||"Failed to load request details");if(N.value=n.data.data,N.value.document_id){const e=await b.get(`/documents/${N.value.document_id}`);if(e.data.success)s.value=e.data.data,await De(),await Oe();else throw new Error(e.data.message||"Failed to load document details")}else throw new Error("Document ID not found in request")}catch(n){console.error("Error loading data:",n),w.create({type:"negative",message:"Failed to load request details"}),N.value=null}finally{Q.value=!1}},De=async()=>{if(!(!s.value||!s.value.document_id)){j.value=!0;try{const n=await b.get(`/documents/${s.value.document_id}/preview`);if(n.data.success){n.data.data.document_html&&(s.value.document_html=n.data.data.document_html);const e=await b.post(`/documents/${s.value.document_id}/convert`);e.data.success&&e.data.data.pdf_path&&(k.value=`${b.defaults.baseURL}${e.data.data.pdf_path}`)}}catch(n){console.error("Error loading document preview:",n)}finally{j.value=!1}}},Oe=async()=>{if(!(!s.value||!s.value.document_id)){$.value=!0;try{const n=await b.get(`/documents/${s.value.document_id}/attachments`);n.data.success&&(W.value=n.data.data||[])}catch(n){console.error("Error loading attachments:",n)}finally{$.value=!1}}},P=async()=>{if(!!I.value){T.value=!0;try{const n={seal_position:{page:u.value.page,x:u.value.seal_position.x,y:u.value.seal_position.y},signature_position:{page:u.value.page,x:u.value.signature_position.x,y:u.value.signature_position.y},qr_position:{page:u.value.page,x:u.value.qr_position.x,y:u.value.qr_position.y},include_certificate:u.value.include_certificate,certificate_position:{page:u.value.page,x:u.value.certificate_position.x,y:u.value.certificate_position.y}},e=await b.post(`/notary/requests/${I.value}/preview`,n);e.data.success&&e.data.data.preview_url?E.value=e.data.data.preview_url:w.create({type:"negative",message:e.data.message||"Failed to generate notarized preview"})}catch(n){console.error("Error generating notarized preview:",n),w.create({type:"negative",message:"Failed to generate notarized preview"})}finally{T.value=!1}}},Ie=n=>{oe.value=n,K.value=!0,G.value=!0,L.value="";try{L.value=`${b.defaults.baseURL}/documents/${s.value.document_id}/attachments/${n.attachment_id}/download`}catch(e){console.error("Error generating attachment preview URL:",e)}finally{G.value=!1}},ie=()=>{if(!(!s.value||!s.value.document_id))try{const n=window.document.createElement("a");n.href=`${b.defaults.baseURL}/documents/${s.value.document_id}/download`,n.target="_blank",n.download=`${s.value.document_title}.pdf`,window.document.body.appendChild(n),n.click(),window.document.body.removeChild(n)}catch(n){console.error("Error downloading document:",n),w.create({type:"negative",message:"Failed to download document"})}},Ee=()=>{J.value=!0},Pe=()=>{if(!E.value){w.create({type:"warning",message:"Generate a notarized preview first"});return}X.value=!0},qe=()=>{if(!E.value){w.create({type:"warning",message:"Please generate a notarized preview first"});return}if(!d.value.document_number){const n=new Date,e=Math.floor(Math.random()*1e4).toString().padStart(4,"0");d.value.document_number=`${n.getFullYear()}${(n.getMonth()+1).toString().padStart(2,"0")}${n.getDate().toString().padStart(2,"0")}-${e}`}se(),M.value=!0},Ae=()=>{U.value=!0},re=async()=>{if(!(B.value&&!await B.value.validate())){g.value=!0;try{await le.approveRequest(I.value,d.value)&&(w.create({type:"positive",message:"Document notarized successfully"}),M.value=!1,ae.push("/notary/processed?status=notarized"))}catch(n){console.error("Error approving document:",n),w.create({type:"negative",message:"Failed to notarize document"})}finally{g.value=!1}}},ue=async()=>{if(!(H.value&&!await H.value.validate())){g.value=!0;try{await le.rejectRequest(I.value,Z.value.rejection_reason)&&(w.create({type:"positive",message:"Document rejected successfully"}),U.value=!1,ae.push("/notary/processed?status=rejected"))}catch(n){console.error("Error rejecting document:",n),w.create({type:"negative",message:"Failed to reject document"})}finally{g.value=!1}}};return Ye(()=>{Ne()}),(n,e)=>(i(),D(Me,{class:"notary-document-review-page bg-grey-1"},{default:a(()=>[o("div",$e,[o("div",Ge,[e[20]||(e[20]=o("div",{class:"col"},[o("h1",{class:"text-h5 q-my-none"},"Document Review"),o("p",{class:"text-grey-8 q-mb-none"}," Review and process the document notarization request ")],-1)),o("div",We,[t(m,{outline:"",color:"primary",label:"Back to Queue",icon:"fa-solid fa-arrow-left","no-caps":"",to:"/notary/inbox",disable:g.value},null,8,["disable"])])]),Q.value?(i(),f("div",Ke,[t(V,{color:"primary",size:"3em"}),e[21]||(e[21]=o("span",{class:"q-ml-sm text-primary"},"Loading document details...",-1))])):N.value?(i(),f("div",Ze,[o("div",et,[t(x,{flat:"",class:"bg-white q-mb-md"},{default:a(()=>[t(p,{class:"q-pb-none"},{default:a(()=>e[24]||(e[24]=[o("div",{class:"text-h6"},"Request Information",-1)])),_:1}),t(p,null,{default:a(()=>[t(ce,null,{default:a(()=>[t(h,null,{default:a(()=>[t(y,null,{default:a(()=>[t(v,{caption:""},{default:a(()=>e[25]||(e[25]=[c("Request Reference")])),_:1}),t(v,null,{default:a(()=>[c(_(N.value.request_reference),1)]),_:1})]),_:1})]),_:1}),t(h,null,{default:a(()=>[t(y,null,{default:a(()=>[t(v,{caption:""},{default:a(()=>e[26]||(e[26]=[c("Document Title")])),_:1}),t(v,null,{default:a(()=>[c(_(s.value.document_title),1)]),_:1})]),_:1})]),_:1}),t(h,null,{default:a(()=>[t(y,null,{default:a(()=>[t(v,{caption:""},{default:a(()=>e[27]||(e[27]=[c("Template")])),_:1}),t(v,null,{default:a(()=>[c(_(s.value.template_name),1)]),_:1})]),_:1})]),_:1}),t(h,null,{default:a(()=>[t(y,null,{default:a(()=>[t(v,{caption:""},{default:a(()=>e[28]||(e[28]=[c("Requested By")])),_:1}),t(v,null,{default:a(()=>[c(_(N.value.user_name||"Unknown"),1)]),_:1})]),_:1})]),_:1}),t(h,null,{default:a(()=>[t(y,null,{default:a(()=>[t(v,{caption:""},{default:a(()=>e[29]||(e[29]=[c("Requested On")])),_:1}),t(v,null,{default:a(()=>[c(_(ne(N.value.requested_at)),1)]),_:1})]),_:1})]),_:1}),s.value.company_name?(i(),D(h,{key:0},{default:a(()=>[t(y,null,{default:a(()=>[t(v,{caption:""},{default:a(()=>e[30]||(e[30]=[c("Company Name")])),_:1}),t(v,null,{default:a(()=>[c(_(s.value.company_name),1)]),_:1})]),_:1})]),_:1})):ee("",!0),s.value.customs_entry_number?(i(),D(h,{key:1},{default:a(()=>[t(y,null,{default:a(()=>[t(v,{caption:""},{default:a(()=>e[31]||(e[31]=[c("Customs Entry Number")])),_:1}),t(v,null,{default:a(()=>[c(_(s.value.customs_entry_number),1)]),_:1})]),_:1})]),_:1})):ee("",!0),s.value.date_of_entry?(i(),D(h,{key:2},{default:a(()=>[t(y,null,{default:a(()=>[t(v,{caption:""},{default:a(()=>e[32]||(e[32]=[c("Date of Entry")])),_:1}),t(v,null,{default:a(()=>[c(_(he(s.value.date_of_entry)),1)]),_:1})]),_:1})]),_:1})):ee("",!0)]),_:1})]),_:1})]),_:1}),t(x,{flat:"",class:"bg-white q-mb-md"},{default:a(()=>[t(p,{class:"q-pb-none"},{default:a(()=>e[33]||(e[33]=[o("div",{class:"text-h6"},"Supporting Documents",-1)])),_:1}),$.value?(i(),D(p,{key:0},{default:a(()=>[o("div",tt,[t(V,{color:"primary",size:"2em"}),e[34]||(e[34]=o("span",{class:"q-ml-sm"},"Loading attachments...",-1))])]),_:1})):W.value.length===0?(i(),D(p,{key:1,class:"text-center q-pa-md"},{default:a(()=>[t(O,{name:"fa-solid fa-file-circle-exclamation",size:"2em",color:"grey-6"}),e[35]||(e[35]=o("div",{class:"text-subtitle1 q-mt-sm"},"No supporting documents",-1))]),_:1})):(i(),D(ce,{key:2,separator:""},{default:a(()=>[(i(!0),f(Ue,null,ze(W.value,l=>(i(),D(h,{key:l.attachment_id,clickable:"",onClick:de=>Ie(l),class:"q-py-md"},{default:a(()=>[t(y,{avatar:""},{default:a(()=>[t(Fe,{color:"primary","text-color":"white",icon:"fa-solid fa-file-pdf"})]),_:1}),t(y,null,{default:a(()=>[t(v,null,{default:a(()=>[c(_(l.file_name),1)]),_:2},1024),t(v,{caption:""},{default:a(()=>[c(_(xe(l.file_size))+" - "+_(ne(l.uploaded_at)),1)]),_:2},1024),t(v,{caption:"",class:"text-primary"},{default:a(()=>[c(_(l.description),1)]),_:2},1024)]),_:2},1024),t(y,{side:""},{default:a(()=>[t(O,{name:"fa-solid fa-eye",color:"primary"})]),_:1})]),_:2},1032,["onClick"]))),128))]),_:1}))]),_:1}),t(x,{flat:"",class:"bg-white"},{default:a(()=>[t(p,{class:"q-pb-none"},{default:a(()=>e[36]||(e[36]=[o("div",{class:"text-h6"},"Notarization Actions",-1)])),_:1}),t(p,null,{default:a(()=>[e[37]||(e[37]=o("p",{class:"text-body2"}," Please review the document carefully before proceeding. You can approve the document for notarization or reject it if there are issues. ",-1)),o("div",at,[t(m,{outline:"",color:"negative",label:"Reject Document",icon:"fa-solid fa-times-circle","no-caps":"",onClick:Ae,disable:g.value},null,8,["disable"]),t(m,{unelevated:"",color:"positive",label:"Approve & Notarize",icon:"fa-solid fa-check-circle","no-caps":"",onClick:qe,disable:g.value},null,8,["disable"])])]),_:1})]),_:1})]),o("div",lt,[t(x,{flat:"",class:"bg-white document-preview-card"},{default:a(()=>[t(Be,{modelValue:Y.value,"onUpdate:modelValue":e[0]||(e[0]=l=>Y.value=l),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"left","narrow-indicator":""},{default:a(()=>[t(me,{name:"document",label:"Document",icon:"fa-solid fa-file-alt"}),t(me,{name:"notarized",label:"Notarized Preview",icon:"fa-solid fa-stamp"})]),_:1},8,["modelValue"]),t(He),t(Qe,{modelValue:Y.value,"onUpdate:modelValue":e[6]||(e[6]=l=>Y.value=l),animated:"",class:"bg-transparent"},{default:a(()=>[t(fe,{name:"document",class:"q-pa-none"},{default:a(()=>[o("div",ot,[o("div",nt,[e[40]||(e[40]=o("div",{class:"text-subtitle2"},"Original Document",-1)),o("div",null,[t(m,{flat:"",round:"",dense:"",color:"primary",icon:"fa-solid fa-download",onClick:ie},{default:a(()=>[t(F,null,{default:a(()=>e[38]||(e[38]=[c("Download")])),_:1})]),_:1}),t(m,{flat:"",round:"",dense:"",color:"primary",icon:"fa-solid fa-expand",onClick:Ee},{default:a(()=>[t(F,null,{default:a(()=>e[39]||(e[39]=[c("Full Screen")])),_:1})]),_:1})])])]),o("div",st,[j.value?(i(),f("div",it,[t(V,{color:"primary",size:"3em"}),e[41]||(e[41]=o("span",{class:"q-ml-sm"},"Loading document preview...",-1))])):k.value?(i(),f("iframe",{key:1,src:k.value,class:"preview-iframe"},null,8,rt)):s.value.document_html?(i(),f("div",{key:2,class:"preview-html",innerHTML:s.value.document_html},null,8,ut)):(i(),f("div",dt,[o("div",ct,[t(O,{name:"fa-solid fa-file-alt",size:"3em"}),e[42]||(e[42]=o("div",{class:"q-mt-sm"},"Preview not available",-1))])]))])]),_:1}),t(fe,{name:"notarized",class:"q-pa-none"},{default:a(()=>[o("div",mt,[o("div",ft,[e[45]||(e[45]=o("div",{class:"text-subtitle2"},"Notarized Preview",-1)),o("div",null,[t(m,{flat:"",round:"",dense:"",color:"primary",icon:"fa-solid fa-sync",onClick:P,loading:T.value},{default:a(()=>[t(F,null,{default:a(()=>e[43]||(e[43]=[c("Regenerate Preview")])),_:1})]),_:1},8,["loading"]),t(m,{flat:"",round:"",dense:"",color:"primary",icon:"fa-solid fa-expand",onClick:Pe},{default:a(()=>[t(F,null,{default:a(()=>e[44]||(e[44]=[c("Full Screen")])),_:1})]),_:1})])])]),o("div",vt,[o("div",pt,[t(ve,{modelValue:u.value.page,"onUpdate:modelValue":[e[1]||(e[1]=l=>u.value.page=l),P],options:be.value,label:"Page",dense:"",outlined:"","emit-value":"","map-options":""},null,8,["modelValue","options"])]),o("div",_t,[o("div",gt,[o("div",yt,[t(z,{modelValue:u.value.include_signature,"onUpdate:modelValue":[e[2]||(e[2]=l=>u.value.include_signature=l),P],label:"Signature",color:"primary"},null,8,["modelValue"])]),o("div",wt,[t(z,{modelValue:u.value.include_seal,"onUpdate:modelValue":[e[3]||(e[3]=l=>u.value.include_seal=l),P],label:"Seal",color:"primary"},null,8,["modelValue"])]),o("div",bt,[t(z,{modelValue:u.value.include_qr,"onUpdate:modelValue":[e[4]||(e[4]=l=>u.value.include_qr=l),P],label:"QR Code",color:"primary"},null,8,["modelValue"])]),o("div",ht,[t(z,{modelValue:u.value.include_certificate,"onUpdate:modelValue":[e[5]||(e[5]=l=>u.value.include_certificate=l),P],label:"Certificate",color:"primary"},null,8,["modelValue"])])])])]),o("div",xt,[T.value?(i(),f("div",Nt,[t(V,{color:"primary",size:"3em"}),e[46]||(e[46]=o("span",{class:"q-ml-sm"},"Generating notarized preview...",-1))])):E.value?(i(),f("iframe",{key:1,src:E.value,class:"preview-iframe"},null,8,Dt)):(i(),f("div",Ot,[o("div",It,[t(O,{name:"fa-solid fa-stamp",size:"3em"}),e[47]||(e[47]=o("div",{class:"q-mt-sm"}," Generate a notarized preview to see how the document will look after notarization ",-1)),t(m,{unelevated:"",color:"primary",label:"Generate Preview",icon:"fa-solid fa-sync","no-caps":"",class:"q-mt-sm",onClick:P,loading:T.value},null,8,["loading"])])]))])]),_:1})]),_:1},8,["modelValue"])]),_:1})])])):(i(),f("div",Je,[o("div",Xe,[t(O,{name:"fa-solid fa-exclamation-circle",size:"3em",color:"negative"}),e[22]||(e[22]=o("div",{class:"text-h6 q-mt-md"},"Request Not Found",-1)),e[23]||(e[23]=o("p",{class:"text-grey-8"}," The requested document could not be found or may have been processed by another notary. ",-1)),t(m,{unelevated:"",color:"primary",label:"Return to Queue","no-caps":"",to:"/notary/inbox",class:"q-mt-sm"})])]))]),t(S,{modelValue:M.value,"onUpdate:modelValue":e[14]||(e[14]=l=>M.value=l),persistent:""},{default:a(()=>[t(x,{style:{"min-width":"400px"}},{default:a(()=>[t(p,{class:"row items-center"},{default:a(()=>[e[48]||(e[48]=o("div",{class:"text-h6"},"Approve & Notarize Document",-1)),t(R),q(t(m,{icon:"fa-solid fa-times",flat:"",round:"",dense:"",disable:g.value},null,8,["disable"]),[[C]])]),_:1}),t(p,null,{default:a(()=>[t(pe,{onSubmit:re,ref_key:"approveForm",ref:B},{default:a(()=>[o("div",Et,[o("div",Pt,[t(A,{modelValue:d.value.document_number,"onUpdate:modelValue":e[7]||(e[7]=l=>d.value.document_number=l),label:"Document Number *",outlined:"",dense:"",rules:[l=>!!l||"Document number is required"]},null,8,["modelValue","rules"])]),o("div",qt,[t(A,{modelValue:d.value.page_number,"onUpdate:modelValue":e[8]||(e[8]=l=>d.value.page_number=l),label:"Page Number *",outlined:"",dense:"",type:"number",rules:[l=>!!l||"Page number is required"]},null,8,["modelValue","rules"])]),o("div",At,[t(A,{modelValue:d.value.book_number,"onUpdate:modelValue":e[9]||(e[9]=l=>d.value.book_number=l),label:"Book Number *",outlined:"",dense:"",rules:[l=>!!l||"Book number is required"]},null,8,["modelValue","rules"])]),o("div",Ct,[t(A,{modelValue:d.value.series_of,"onUpdate:modelValue":e[10]||(e[10]=l=>d.value.series_of=l),label:"Series Of *",outlined:"",dense:"",rules:[l=>!!l||"Series is required"]},null,8,["modelValue","rules"])]),o("div",Tt,[t(A,{modelValue:d.value.notary_location,"onUpdate:modelValue":e[11]||(e[11]=l=>d.value.notary_location=l),label:"Notary Location *",outlined:"",dense:"",rules:[l=>!!l||"Notary location is required"]},null,8,["modelValue","rules"])]),o("div",kt,[t(ve,{modelValue:d.value.certificate_type,"onUpdate:modelValue":[e[12]||(e[12]=l=>d.value.certificate_type=l),se],options:ye,label:"Certificate Type *",outlined:"",dense:"","emit-value":"","map-options":"",rules:[l=>!!l||"Certificate type is required"]},null,8,["modelValue","rules"])]),o("div",Vt,[t(A,{modelValue:d.value.certificate_text,"onUpdate:modelValue":e[13]||(e[13]=l=>d.value.certificate_text=l),label:"Certificate Text *",outlined:"",type:"textarea",rows:"5",rules:[l=>!!l||"Certificate text is required"]},null,8,["modelValue","rules"])])])]),_:1},512)]),_:1}),t(p,{class:"text-caption text-grey-8"},{default:a(()=>e[49]||(e[49]=[o("p",null," By approving this document, you certify that you have verified the identity of the signer(s) and that the document meets all legal requirements for notarization. ",-1)])),_:1}),t(_e,{align:"right"},{default:a(()=>[q(t(m,{flat:"",label:"Cancel",color:"primary",disable:g.value},null,8,["disable"]),[[C]]),t(m,{unelevated:"",label:"Approve & Notarize",color:"positive",onClick:re,loading:g.value},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(S,{modelValue:U.value,"onUpdate:modelValue":e[16]||(e[16]=l=>U.value=l),persistent:""},{default:a(()=>[t(x,{style:{"min-width":"400px"}},{default:a(()=>[t(p,{class:"row items-center"},{default:a(()=>[e[50]||(e[50]=o("div",{class:"text-h6"},"Reject Document",-1)),t(R),q(t(m,{icon:"fa-solid fa-times",flat:"",round:"",dense:"",disable:g.value},null,8,["disable"]),[[C]])]),_:1}),t(p,null,{default:a(()=>[t(pe,{onSubmit:ue,ref_key:"rejectForm",ref:H},{default:a(()=>[t(A,{modelValue:Z.value.rejection_reason,"onUpdate:modelValue":e[15]||(e[15]=l=>Z.value.rejection_reason=l),label:"Rejection Reason *",outlined:"",type:"textarea",rows:"5",rules:[l=>!!l||"Rejection reason is required"],hint:"Please provide a detailed reason for rejecting this document. This will be shared with the requester."},null,8,["modelValue","rules"])]),_:1},512)]),_:1}),t(_e,{align:"right"},{default:a(()=>[q(t(m,{flat:"",label:"Cancel",color:"primary",disable:g.value},null,8,["disable"]),[[C]]),t(m,{unelevated:"",label:"Reject Document",color:"negative",onClick:ue,loading:g.value},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(S,{modelValue:K.value,"onUpdate:modelValue":e[17]||(e[17]=l=>K.value=l),maximized:"",persistent:""},{default:a(()=>[t(x,null,{default:a(()=>[t(p,{class:"row items-center q-py-sm bg-primary text-white"},{default:a(()=>{var l;return[o("div",Rt," Attachment Preview: "+_((l=oe.value)==null?void 0:l.file_name),1),t(R),q(t(m,{icon:"fa-solid fa-times",flat:"",round:"",dense:""},null,512),[[C]])]}),_:1}),t(p,{class:"attachment-preview-container"},{default:a(()=>[G.value?(i(),f("div",St,[t(V,{color:"primary",size:"3em"}),e[51]||(e[51]=o("span",{class:"q-ml-sm"},"Loading attachment preview...",-1))])):L.value?(i(),f("iframe",{key:1,src:L.value,class:"attachment-preview-iframe"},null,8,Lt)):(i(),f("div",Yt,[o("div",Mt,[t(O,{name:"fa-solid fa-file-alt",size:"3em"}),e[52]||(e[52]=o("div",{class:"q-mt-sm"}," Preview not available for this attachment ",-1))])]))]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(S,{modelValue:J.value,"onUpdate:modelValue":e[18]||(e[18]=l=>J.value=l),maximized:"",persistent:""},{default:a(()=>[t(x,null,{default:a(()=>[t(p,{class:"row items-center q-py-sm bg-primary text-white"},{default:a(()=>[o("div",Ut," Document Preview: "+_(s.value.document_title),1),t(R),t(m,{icon:"fa-solid fa-download",flat:"",round:"",dense:"",onClick:ie}),q(t(m,{icon:"fa-solid fa-times",flat:"",round:"",dense:""},null,512),[[C]])]),_:1}),t(p,{class:"full-preview-container"},{default:a(()=>[k.value?(i(),f("iframe",{key:0,src:k.value,class:"full-preview-iframe"},null,8,zt)):s.value.document_html?(i(),f("div",{key:1,class:"full-preview-html",innerHTML:s.value.document_html},null,8,Ft)):(i(),f("div",Bt,[o("div",Ht,[t(O,{name:"fa-solid fa-file-alt",size:"3em"}),e[53]||(e[53]=o("div",{class:"q-mt-sm"},"Preview not available",-1))])]))]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(S,{modelValue:X.value,"onUpdate:modelValue":e[19]||(e[19]=l=>X.value=l),maximized:"",persistent:""},{default:a(()=>[t(x,null,{default:a(()=>[t(p,{class:"row items-center q-py-sm bg-primary text-white"},{default:a(()=>[o("div",Qt," Notarized Preview: "+_(s.value.document_title),1),t(R),q(t(m,{icon:"fa-solid fa-times",flat:"",round:"",dense:""},null,512),[[C]])]),_:1}),t(p,{class:"full-preview-container"},{default:a(()=>[E.value?(i(),f("iframe",{key:0,src:E.value,class:"full-preview-iframe"},null,8,jt)):(i(),f("div",$t,[o("div",Gt,[t(O,{name:"fa-solid fa-stamp",size:"3em"}),e[54]||(e[54]=o("div",{class:"q-mt-sm"},"Notarized preview not available",-1))])]))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});var ta=ke(Wt,[["__scopeId","data-v-4707d6c0"]]);export{ta as default};
